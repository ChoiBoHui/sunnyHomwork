<!DOCTYPE html>
<html lang="ko">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>window resize 된 값 불러오기</title>
    <script>

        (function () {
            //소스영역
            let delay = 300;
            let timer = null;
            var des = '';

            /* [html 최초 로드 및 이벤트 상시 대기 실시] */
            window.onload = function () {
                console.log("[window 이벤트를 최초 실행 합니다!]");
                clearTimeout(timer);
                timer = setTimeout(function () {
                    des = document.querySelector('.des');
                    console.log(innerWidth);
                    if (window.innerWidth > 1024) {
                        des.style.color = 'blue';
                    } else if (window.innerWidth > 768) {
                        des.style.color = 'red';
                    } else {
                        des.style.color = 'green';
                    }
                }, delay);
                /* [html 화면 사이즈 변경 이벤트 감지] */
                window.onresize = function () {
                    setTimeout(function () {
                        console.log("[window 사이즈가 바꼈습니다!]");
                    }, delay)
                    return false;
                    // 현재 딜레이가 되고 있는중... 인데, 한번만 호출돼야 하는데, 자꾸 호출됨
                };
            };


            window.addEventListener('resize', function () {

                clearTimeout(timer);
                timer = setTimeout(function () {
                    des = document.querySelector('.des');
                    console.log(innerWidth);
                    if (window.innerWidth > 1024) {
                        des.style.color = 'blue';
                    } else if (window.innerWidth > 768) {
                        des.style.color = 'red';
                    } else {
                        des.style.color = 'green';
                    }
                }, delay);
            });
        })();


    </script>
</head>

<body>
    <p class="des">
        window resize 된 값 불러오기? 가 맞는지 모르겠지만 아무튼
    </p>
</body>

</html>