<!DOCTYPE html>
<html lang="ko">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>js 여러개의 input 값을 하나의 값으로 합치기(hidden 사용)</title>
    <script src="./jquery-1.12.4.min.js"></script>
</head>

<body>
    <div class="Wrap">
        <div class="container">
            <!-- 일단 혹시 몰라서 div 두번 싸줬음.. -->
            <form action="" method="">
                <!-- email_1 -->
                <input type=" text" id="email_1" name="email_1" maxlength="18" placeholder="아이디">

                <div>@</div>

                <!-- email_2 -->
                <input type="text" id="email_2" name="email_2">

                <!-- email_3 -->
                <select name="email_3" id="email_3">
                    <option value="">직접입력</option>
                    <option value="naver.com">naver.com</option>
                    <option value="gmail.com">gmail.com</option>
                    <option value="duam.net">duam.net</option>
                </select>

                <!-- 값을 받아올 hidden 과 전송할 subit 이 있습니다. -->
                <input type="hidden" id="call_email" name="call_email" value="">
                <input type="submit">
            </form>
        </div>
    </div>

    <!-- script 시작 -->
    <script>
        const email_1 = document.querySelector('#email_1');
        // const email_2 = document.querySelector('#email_2');
        const email_2 = $('#email_2');
        // email_3은 바닐라 자바로 변수로 주고도 제이쿼리 식에 대입하면 값이 구해지는데.. 왜 email_2는 제이쿼리 문법으로 해야지만 적용이 되는 걸까..?
        const email_3 = document.querySelector('#email_3');
        const call_email = document.querySelector('#call_email'); // 요녀석이 type: hidden;

        console.log(email_3);

        $(function () {
            $(email_3).change(function () {

                console.log($(email_3).val());

                console.log($(this).val());

                let element = $(email_3).find('option:selected').val();
                console.log(element);

                // let elementText = $(email_3).find('option:selected').text();
                // console.log(elementText);
                // 텍스트로 가져오는 방법!! 이거는 값을 보내는데 쓰는건 아니고, 다른데 활용할 곳이 있으면 활용!

                $(function () {
                    email_2.val(element);
                    // 값 들어오면 disabled 시키고, 직접입력 누르면 abled? 로 변경해야함
                })
            });
        })



        // 제이쿼리 사용
        // $(function () {
        //     email_3.change(function () {
        //         let element = $(this).find('option:selected');
        //         let myTag = element.attr('value');
        //         idval.val(myTag);
        //     });
        // });

    </script>
</body>

</html>